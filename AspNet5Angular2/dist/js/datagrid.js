var __decorate=this&&this.__decorate||function(e,t,a,r){var o,i=arguments.length,n=3>i?t:null===r?r=Object.getOwnPropertyDescriptor(t,a):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,a,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(n=(3>i?o(n):i>3?o(t,a,n):o(t,a))||n);return i>3&&n&&Object.defineProperty(t,a,n),n},__metadata=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},core_1=require("angular2/core"),AppComponent=function(){function e(){}return e=__decorate([core_1.Component({selector:"my-app",template:"My First Angular 2 App"}),__metadata("design:paramtypes",[])],e)}();exports.AppComponent=AppComponent;var browser_1=require("angular2/platform/browser"),grid_container_1=require("./grid-container"),data_container_1=require("./data-container"),test_data_1=require("./test-data"),testData=new test_data_1.TestData;data_container_1.DataContainer.setRows(testData.getRows()),data_container_1.DataContainer.setColumns(testData.getColumns()),console.log("vmi"),browser_1.bootstrap(grid_container_1.GridContainer);var Column=function(){function e(e,t){this.displayedName=e,this.dataBindingName=t}return e.prototype.getDisplayedName=function(){return this.displayedName},e.prototype.getDataBindingName=function(){return this.dataBindingName},e}();exports.Column=Column;var DataContainer=function(){function e(){if(e.instance)throw new Error("Error instantiation failed! Singleton! Already exists!");e.instance=this}return e.getRows=function(){return e.rows},e.getColumns=function(){return e.columns},e.setRows=function(t){e.rows=t},e.setColumns=function(t){e.columns=t},e.getNumberOfRows=function(){return e.rows.length},e.instance=new e,e}();exports.DataContainer=DataContainer;var __decorate=this&&this.__decorate||function(e,t,a,r){var o,i=arguments.length,n=3>i?t:null===r?r=Object.getOwnPropertyDescriptor(t,a):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,a,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(n=(3>i?o(n):i>3?o(t,a,n):o(t,a))||n);return i>3&&n&&Object.defineProperty(t,a,n),n},__metadata=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},core_1=require("angular2/core"),grid_1=require("./grid"),pagination_1=require("./pagination"),data_container_1=require("./data-container"),GridContainer=function(){function e(){this.rows=data_container_1.DataContainer.getRows(),this.columns=data_container_1.DataContainer.getColumns(),setTimeout(function(){new pagination_1.Pagination}.bind(this),50)}return e.prototype.getRows=function(){return this.rows},e.prototype.getColumns=function(){return this.columns},e=__decorate([core_1.Component({selector:"grid-container",directives:[grid_1.Grid,pagination_1.Pagination],template:'<grid id="gridId" name="gridName" [rows]="rows" [columns]="columns"></grid><pagination></pagination>'}),__metadata("design:paramtypes",[])],e)}();exports.GridContainer=GridContainer;var __decorate=this&&this.__decorate||function(e,t,a,r){var o,i=arguments.length,n=3>i?t:null===r?r=Object.getOwnPropertyDescriptor(t,a):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,a,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(n=(3>i?o(n):i>3?o(t,a,n):o(t,a))||n);return i>3&&n&&Object.defineProperty(t,a,n),n},__metadata=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},core_1=require("angular2/core"),sorter_1=require("./sorter"),Grid=function(){function e(){this.sorter=new sorter_1.Sorter}return e.prototype.ngOnInit=function(){console.log("Grid was created with name: "+this.name+" and id: "+this.id)},e.prototype.sort=function(e){this.sorter.sort(e,this.rows)},__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"name",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],e.prototype,"id",void 0),e=__decorate([core_1.Component({selector:"grid",inputs:["rows: rows","columns: columns"],templateUrl:"../html/grid.html"}),__metadata("design:paramtypes",[])],e)}();exports.Grid=Grid;var __decorate=this&&this.__decorate||function(e,t,a,r){var o,i=arguments.length,n=3>i?t:null===r?r=Object.getOwnPropertyDescriptor(t,a):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,a,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(n=(3>i?o(n):i>3?o(t,a,n):o(t,a))||n);return i>3&&n&&Object.defineProperty(t,a,n),n},__metadata=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},core_1=require("angular2/core"),data_container_1=require("./data-container"),Pagination=function(){function e(){this.numberOfRowsOfTableToDisplay=8,this.rowsPerPage=6,this.currentLink=1,this.numberOfPages=0,this.numberOfPagesArray=[],this.numberOfRowsOfTableToDisplay=6,this.initializer(),this.showPage(1,this.numberOfRowsOfTableToDisplay)}return e.prototype.initializer=function(){var e=this.rowsPerPage,t=data_container_1.DataContainer.getNumberOfRows();this.numberOfPages=Math.ceil(t/e)},e.prototype.updateNumberOfPagesArray=function(e,t){if(0!=this.numberOfPagesArray.length&&(this.numberOfPagesArray=[]),5>e)for(var a=1;6>a;a++)this.numberOfPagesArray.push(a);else if(e+2<this.numberOfPages)for(var r=e-2;e+3>r;r++)this.numberOfPagesArray.push(r);else{var o=this.numberOfPages-e;if(0==o)for(var i=e-4;i<this.numberOfPages+1;i++)this.numberOfPagesArray.push(i);else for(var n=e-3;n<this.numberOfPages+1;n++)this.numberOfPagesArray.push(n)}},e.prototype.createPager=function(e){var t=this.numberOfRowsOfTableToDisplay;t>=1?this.currentLink=1:this.currentLink=t+1,e>1&&(this.currentLink=e),this.updateNumberOfPagesArray(this.currentLink,5)},e.prototype.showPage=function(e,t){$("#paginate tr").hide(),$("#current_page").val(e),$("#paginate tr").each(function(a){a>=t*(e-1)&&t*e>a&&$(this).show()});this.createPager(e)},e.prototype.nextPage=function(){var e=parseInt($("#current_page").val())+1;this.showPage(e,this.numberOfRowsOfTableToDisplay)},e.prototype.lastPage=function(){var e=this.numberOfPages;$("#current_page").val(e),this.showPage(e,this.numberOfRowsOfTableToDisplay)},e.prototype.firstPage=function(){var e="1";$("#current_page").val(e),this.showPage(e,this.numberOfRowsOfTableToDisplay)},e.prototype.previousPage=function(){var e=parseInt($("#current_page").val())-1;$("#current_page").val(e),this.showPage(e,this.numberOfRowsOfTableToDisplay)},e=__decorate([core_1.Component({selector:"pagination",templateUrl:"../html/pagination.html"}),__metadata("design:paramtypes",[])],e)}();exports.Pagination=Pagination;var Sorter=function(){function e(){this.direction=1}return e.prototype.sort=function(e,t){var a=this;this.key===e?this.direction=-1*this.direction:this.direction=1,this.key=e,t.sort(function(t,r){return t[e]===r[e]?0:t[e]>r[e]?1*a.direction:-1*a.direction})},e}();exports.Sorter=Sorter;var column_1=require("./column"),TestData=function(){function e(){this.loadTestData()}return e.prototype.getColumns=function(){return this.Columns},e.prototype.getRows=function(){return this.Rows},e.prototype.loadTestData=function(){var e=[{firstName:"Joe",lastName:"Jackson",age:1},{firstName:"Peter",lastName:"Smith",age:2},{firstName:"Jane",lastName:"Doe",age:3},{firstName:"Béla",lastName:"Doe",age:4},{firstName:"Józsi",lastName:"Doe",age:5},{firstName:"Karcsi",lastName:"Doe",age:6},{firstName:"Helén",lastName:"Doe",age:7},{firstName:"Tamás",lastName:"Doe",age:8},{firstName:"Joe",lastName:"Jackson",age:9},{firstName:"Peter",lastName:"Smith",age:10},{firstName:"Jane",lastName:"Doe",age:11},{firstName:"Béla",lastName:"Doe",age:12},{firstName:"Józsi",lastName:"Doe",age:13},{firstName:"Karcsi",lastName:"Doe",age:14},{firstName:"Helén",lastName:"Doe",age:15},{firstName:"Tamás",lastName:"Doe",age:16},{firstName:"Peter",lastName:"Smith",age:17},{firstName:"Jane",lastName:"Doe",age:18},{firstName:"Béla",lastName:"Doe",age:19},{firstName:"Józsi",lastName:"Doe",age:20},{firstName:"Karcsi",lastName:"Doe",age:21},{firstName:"Helén",lastName:"Doe",age:22},{firstName:"Tamás",lastName:"Doe",age:23},{firstName:"Joe",lastName:"Jackson",age:24},{firstName:"Peter",lastName:"Smith",age:25},{firstName:"Jane",lastName:"Doe",age:26},{firstName:"Béla",lastName:"Doe",age:27},{firstName:"Józsi",lastName:"Doe",age:28},{firstName:"Karcsi",lastName:"Doe",age:29},{firstName:"Helén",lastName:"Doe",age:30},{firstName:"Tamás",lastName:"Doe",age:31},{firstName:"Peter",lastName:"Smith",age:32},{firstName:"Jane",lastName:"Doe",age:33},{firstName:"Béla",lastName:"Doe",age:34},{firstName:"Józsi",lastName:"Doe",age:35},{firstName:"Karcsi",lastName:"Doe",age:36},{firstName:"Helén",lastName:"Doe",age:37},{firstName:"Tamás",lastName:"Doe",age:38},{firstName:"Joe",lastName:"Jackson",age:39},{firstName:"Peter",lastName:"Smith",age:40},{firstName:"Jane",lastName:"Doe",age:41},{firstName:"Béla",lastName:"Doe",age:42},{firstName:"Józsi",lastName:"Doe",age:43},{firstName:"Karcsi",lastName:"Doe",age:44},{firstName:"Helén",lastName:"Doe",age:46},{firstName:"Tamás",lastName:"Doe",age:46},{firstName:"Peter",lastName:"Smith",age:47},{firstName:"Jane",lastName:"Doe",age:48},{firstName:"Béla",lastName:"Doe",age:49},{firstName:"Józsi",lastName:"Doe",age:50},{firstName:"Karcsi",lastName:"Doe",age:51},{firstName:"Helén",lastName:"Doe",age:52},{firstName:"Tamás",lastName:"Doe",age:53},{firstName:"Joe",lastName:"Jackson",age:54},{firstName:"Peter",lastName:"Smith",age:55},{firstName:"Jane",lastName:"Doe",age:56},{firstName:"Béla",lastName:"Doe",age:57},{firstName:"Józsi",lastName:"Doe",age:58},{firstName:"Karcsi",lastName:"Doe",age:59},{firstName:"Helén",lastName:"Doe",age:60},{firstName:"Tamás",lastName:"Doe",age:61},{firstName:"Tim",lastName:"Smith",age:62}],t=[new column_1.Column("First Name","firstName"),new column_1.Column("Last Name","lastName"),new column_1.Column("Age","age")];this.Rows=e,this.Columns=t},e}();exports.TestData=TestData;